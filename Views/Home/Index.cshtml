@model IEnumerable<NetTracApp.Models.InventoryItem>

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome to NetTracApp!</h1>
    <p>Your one-stop solution for tracking IT inventory.</p>
</div>

<div class="mb-4">
    <h2>Inventory Overview</h2>
    <p>This is a summary of the inventory tracked in the system.</p>

    <!-- CSV Upload Form -->
    <form asp-action="UploadFile" method="post" enctype="multipart/form-data" class="mb-4">
        <div class="form-group">
            <label for="file">Upload CSV File:</label>
            <input type="file" name="file" class="form-control" />
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>

    <!-- Inventory Table -->
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>Vendor</th>
                <th>Device Type</th>
                <th>Serial Number</th>
                <th>Host Name</th>
                <th>Asset Tag</th>
                <th>Current Location</th>
                <th>Status</th>
                <th>Created</th>
                <th>Created By</th>
                <th>Date Received</th>
                <th>Future Location</th>
                <th>Legacy Device</th>
                <th>Modified</th>
                <th>Modified By</th>
                <th>Notes</th>
                <th>Part ID</th>
                <th>Product Description</th>
                <th>Ready</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Vendor</td>
                        <td>@item.DeviceType</td>
                        <td>@item.SerialNumber</td>
                        <td>@item.HostName</td>
                        <td>@item.AssetTag</td>
                        <td>@item.CurrentLocation</td>
                        <td>@item.Status</td>
                        <td>@item.Created</td>
                        <td>@item.CreatedBy</td>
                        <td>@item.DateReceived</td>
                        <td>@item.FutureLocation</td>
                        <td>@item.LegacyDevice</td>
                        <td>@item.Modified</td>
                        <td>@item.ModifiedBy</td>
                        <td>@item.Notes</td>
                        <td>@item.PartID</td>
                        <td>@item.ProductDescription</td>
                        <td>@item.Ready</td>
                        <td>
                            <!-- Edit link with correct controller -->
                            <a asp-controller="InventoryItems" asp-action="Edit" asp-route-id="@item.Id" class="btn btn-warning btn-sm">Edit</a>

                            <!-- Delete form with correct controller and POST method -->
                            <form asp-controller="InventoryItems" asp-action="Delete" asp-route-id="@item.Id" method="post" style="display:inline;">
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="19" class="text-center">No inventory items found.</td>
                </tr>
            }
        </tbody>
    </table>
</div>
